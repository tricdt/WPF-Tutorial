<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
                    xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
                    xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
                    xmlns:controls="clr-namespace:DevExpress.Xpf.DemoBase.Helpers"
                    xmlns:internal="clr-namespace:DevExpress.Xpf.DemoBase.Helpers.Internal">

    <Style TargetType="internal:RichTextPresenter">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="internal:RichTextPresenter">
                    <RichTextBox x:Name="InnerPresenter" IsReadOnly="True" IsDocumentEnabled="True" BorderBrush="Transparent" BorderThickness="0" IsUndoEnabled="False" 
                                 UndoLimit="0" Background="{TemplateBinding Background}"/>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style TargetType="{x:Type internal:CodeLineHeaderContentControl}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Rectangle Fill="Transparent" Stroke="#FF808080" StrokeThickness="1" Margin="0,0,-4,0" />
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style TargetType="{x:Type internal:CodeLineToggleButton}">
        <Setter Property="Margin" Value="-1,3,1,0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type ToggleButton}">
                    <Grid Background="Transparent" dx:FrameworkElementHelper.IsVisible="True">
                        <Border x:Name="BottomBorder" Background="Transparent" BorderBrush="#FFFFFFFF" BorderThickness="0,0,0,1" Margin="0,0,1,0" Visibility="Visible" />
                        <Grid Height="9" Width="9">
                            <Rectangle Margin="0" Fill="#FF484848"/>
                            <Rectangle Margin="1" Fill="White"/>
                            <Path Stretch="Fill" Margin="2"
                      Visibility="{Binding IsChecked, RelativeSource={RelativeSource TemplatedParent}, Converter={dxmvvm:BooleanToVisibilityConverter Inverse=True}}"
                      Fill="#FF484848" Data="F1 M 135,79L 135,78L 137,78L 137,76L 138,76L 138,78L 140,78L 140,79L 138,79L 138,81L 137,81L 137,79L 135,79 Z "/>
                            <Rectangle Fill="#FF484848" Margin="2,4"
                      Visibility="{Binding IsChecked, RelativeSource={RelativeSource TemplatedParent}, Converter={dxmvvm:BooleanToVisibilityConverter}}"/>
                        </Grid>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style TargetType="internal:CodeViewPresenter">
        <Setter Property="FontFamily" Value="Courier New" />
        <Setter Property="FontSize" Value="12" />
        <Setter Property="Background" Value="White" />
        <Setter Property="BorderBrush" Value="#FFD9D9D9" />
        <Setter Property="BorderThickness" Value="1" />
        <Setter Property="Foreground" Value="Black" />
        <Setter Property="Padding" Value="2" />
        <Setter Property="HighlightedRangeRectangle">
            <Setter.Value>
                <DataTemplate>
                    <Rectangle Fill="#4B0000C8" Stroke="#E60000FE" StrokeThickness="1" Margin="-2,-1,-2,0" />
                </DataTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="internal:CodeViewPresenter">
                    <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                        <ScrollViewer x:Name="ScrollViewer" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto" Margin="3">
                            <Grid Background="Transparent" Margin="{TemplateBinding Padding}">
                                <Grid Margin="12,0,0,0" RequestBringIntoView="{DXEvent Handler='@args.Handled = true'}">
                                    <internal:RichTextPresenter x:Name="TextPresenter" FlowDirection="LeftToRight" HorizontalAlignment="Left" MaxWidth="5000" TextWrapping="NoWrap" 
                                                                Background="{TemplateBinding Background}"/>
                                    <Canvas x:Name="HighlightedRangesPresenter" IsHitTestVisible="False" Background="Transparent" />
                                </Grid>
                                <Canvas x:Name="ExpandButtonsPresenter" Background="{x:Null}" />
                            </Grid>
                        </ScrollViewer>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style TargetType="controls:CodeViewControl">
        <Setter Property="NotFoundMessage" Value="Not found" />
        <Setter Property="NoMoreFoundMessage" Value="No more occurrences found" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="controls:CodeViewControl">
                    <Grid>
                        <dxmvvm:Interaction.Behaviors>
                            <dxmvvm:KeyToCommand KeyGesture="Ctrl+F" Command="{DXCommand Execute='@e(TextInput).Focus()'}"/>
                            <dxmvvm:KeyToCommand KeyGesture="F3" Command="{Binding Path=SearchCommand, RelativeSource={RelativeSource TemplatedParent}}"/>
                        </dxmvvm:Interaction.Behaviors>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <dx:BackgroundPanel Grid.RowSpan="2" BorderThickness="1" BorderBrush="#FFD9D9D9"/>
                        <dx:BackgroundPanel BorderBrush="#FFD9D9D9" Margin="1,1,1,0" BorderThickness="0,0,0,1" VerticalAlignment="Bottom">
                            <controls:CodeViewControlPanel>
                                <StackPanel x:Name="SearchPanel" MinHeight="24" Orientation="Horizontal" Margin="10"
                                        controls:CodeViewControlPanel.CellWidth="Auto" controls:CodeViewControlPanel.CellAlignment="Left">
                                    <TextBox x:Name="TextInput" VerticalContentAlignment="Center" Width="250" />
                                    <Button Content="Find Next" Margin="5,0,0,0" Command="{TemplateBinding SearchCommand}" Style="{x:Null}"/>
                                    <TextBlock Margin="5,0,0,0" VerticalAlignment="Center" Foreground="#FF9A9A9A"
                                               Text="{TemplateBinding Message}" />
                                </StackPanel>
                                <dxe:ComboBoxEdit x:Name="ItemsPresenter" Margin="10" HorizontalAlignment="Stretch"
                                        controls:CodeViewControlPanel.CellWidth="*" controls:CodeViewControlPanel.CellAlignment="Right"
                                        controls:CodeViewControlPanel.CellMaxWidth="600"
                                        ItemsSource="{TemplateBinding ItemsSource}"
                                        IsTextEditable="False"
                                        DisplayMember="FileName"
                                        SelectedItem="{Binding Path=SelectedItem, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}">
                                    <dxe:ComboBoxEdit.ItemTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding DisplayName}"/>
                                        </DataTemplate>
                                    </dxe:ComboBoxEdit.ItemTemplate>
                                </dxe:ComboBoxEdit>
                            </controls:CodeViewControlPanel>
                        </dx:BackgroundPanel>
                        <internal:CodeViewPresenter x:Name="CodePresenter" Grid.Row="1" BorderBrush="{x:Null}" BorderThickness="0" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
