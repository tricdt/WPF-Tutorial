<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core" xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars" xmlns:dxr="http://schemas.devexpress.com/winfx/2008/xaml/ribbon" xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors" xmlns:dxdo="http://schemas.devexpress.com/winfx/2008/xaml/docking" xmlns:dxre="http://schemas.devexpress.com/winfx/2008/xaml/richedit" xmlns:dxrec="http://schemas.devexpress.com/winfx/2008/xaml/richedit/internal" xmlns:dxreui="http://schemas.devexpress.com/winfx/2008/xaml/richedit" xmlns:dxret="http://schemas.devexpress.com/winfx/2008/xaml/richedit/themekeys" xmlns:dxdst="http://schemas.devexpress.com/winfx/2008/xaml/core/themekeys">
  <ResourceDictionary.MergedDictionaries>
    <dxdst:ResourceDictionaryEx Source="/DevExpress.Xpf.RichEdit.v24.1;component/Themes/Generic/Ruler.xaml" />
  </ResourceDictionary.MergedDictionaries>
  <ControlTemplate x:Key="InvisibleBorderTemplate" TargetType="{x:Type ContentControl}">
    <ContentPresenter SnapsToDevicePixels="True" UseLayoutRounding="True" Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}" />
  </ControlTemplate>
  <ControlTemplate x:Key="{dxret:RichEditControlThemeKey ResourceKey=EmptyCommentControlTemplate}" />
  <ControlTemplate x:Key="{dxret:RichEditControlThemeKey ResourceKey=CommentControlTemplate}">
    <dxreui:RichEditCommentControl MinWidth="350" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" dxreui:InnerCommentControl.IsTemplatePart="True" DockLayoutManager="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type dxdo:DockLayoutManager}}, Mode=OneTime}" LayoutPanel="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type dxdo:LayoutPanel}}, Mode=OneTime}" RichEditControl="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type dxre:RichEditControl}}}" />
  </ControlTemplate>
  <dx:BoolToThicknessConverter x:Key="layoutGroupBoolToThicknessConverter" ThicknessTrue="Auto" ThicknessFalse="0" />
  <!--RichEditControl-->
  <Style x:Key="{dxdst:DefaultStyleThemeKey FullName=DevExpress.Xpf.RichEdit.RichEditControl}" TargetType="{x:Type dxre:RichEditControl}">
    <Setter Property="MaxWidth" Value="3000000" />
    <Setter Property="MaxHeight" Value="3000000" />
    <Setter Property="AutoBackground" Value="{DynamicResource {dxret:RichEditControlThemeKey ResourceKey=RichEditBackgroundBrush}}" />
    <Setter Property="AutoForeground" Value="{DynamicResource {dxret:RichEditControlThemeKey ResourceKey=RichEditForegroundBrush}}" />
    <Setter Property="dx:ScrollViewerTouchBehavior.IsEnabled" Value="True" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="dxre:RichEditControl">
          <DockPanel>
            <VisualStateManager.VisualStateGroups>
              <VisualStateGroup x:Name="CommonStates">
                <VisualStateGroup.Transitions>
                  <!--<VisualTransition GeneratedDuration="00:00:00.1" To="SearchVisible"/>
                                        <VisualTransition GeneratedDuration="00:00:00.1" To="SearchCollapsed"/>-->
                </VisualStateGroup.Transitions>
                <VisualState x:Name="SearchVisible">
                  <Storyboard x:Name="SearchVisibleStoryboard">
                    <DoubleAnimation Duration="00:00:00.1" Storyboard.TargetName="SearchPanel" Storyboard.TargetProperty="Opacity" To="1" />
                    <DoubleAnimation Duration="00:00:00.1" Storyboard.TargetName="searchPanelExpander" Storyboard.TargetProperty="AnimationProgress" From="0" To="1" />
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SearchPanel" Storyboard.TargetProperty="Visibility">
                      <DiscreteObjectKeyFrame KeyTime="0">
                        <DiscreteObjectKeyFrame.Value>
                          <Visibility>Visible</Visibility>
                        </DiscreteObjectKeyFrame.Value>
                      </DiscreteObjectKeyFrame>
                    </ObjectAnimationUsingKeyFrames>
                  </Storyboard>
                </VisualState>
                <VisualState x:Name="SearchCollapsed">
                  <Storyboard>
                    <DoubleAnimation Duration="00:00:00.1" Storyboard.TargetName="SearchPanel" Storyboard.TargetProperty="Opacity" To="0" />
                    <DoubleAnimation Duration="00:00:00.1" Storyboard.TargetName="searchPanelExpander" Storyboard.TargetProperty="AnimationProgress" To="0" />
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="SearchPanel" Storyboard.TargetProperty="Visibility">
                      <DiscreteObjectKeyFrame KeyTime="0">
                        <DiscreteObjectKeyFrame.Value>
                          <Visibility>Collapsed</Visibility>
                        </DiscreteObjectKeyFrame.Value>
                      </DiscreteObjectKeyFrame>
                    </ObjectAnimationUsingKeyFrames>
                  </Storyboard>
                </VisualState>
              </VisualStateGroup>
              <VisualStateGroup x:Name="HorizontalRulerVisibility">
                <VisualState x:Name="HorizontalRulerVisible">
                  <Storyboard>
                    <ThicknessAnimation Storyboard.TargetName="Vruler" Storyboard.TargetProperty="Margin" Duration="0:0:0" To="0,0,0,0" />
                  </Storyboard>
                </VisualState>
                <VisualState x:Name="HorizontalRulerCollapsed">
                  <Storyboard>
                    <ThicknessAnimation Storyboard.TargetName="Vruler" Storyboard.TargetProperty="Margin" Duration="0:0:0" To="0,0,0,0" />
                  </Storyboard>
                </VisualState>
              </VisualStateGroup>
              <VisualStateGroup x:Name="VerticalRulerVisible">
                <VisualState x:Name="VerticalRulerVisiblity">
                  <Storyboard>
                    <ThicknessAnimation Storyboard.TargetName="Hruler" Storyboard.TargetProperty="Margin" Duration="0:0:0" To="-6,0,0,0" />
                  </Storyboard>
                </VisualState>
                <VisualState x:Name="VerticalRulerCollapsed">
                  <Storyboard>
                    <ThicknessAnimation Storyboard.TargetName="Hruler" Storyboard.TargetProperty="Margin" Duration="0:0:0" To="0,0,0,0" />
                  </Storyboard>
                </VisualState>
              </VisualStateGroup>
            </VisualStateManager.VisualStateGroups>
            <Control x:Name="PART_RibbonHost" Template="{DynamicResource {dxret:RichEditControlThemeKey ResourceKey=EmptyRibbonTemplate}}" DockPanel.Dock="Top" />
            <ContentControl Template="{DynamicResource {dxret:RichEditControlThemeKey ResourceKey=BackgroundControlTemplate}}" UseLayoutRounding="False" Focusable="False" Background="{TemplateBinding Background}">
              <dxdo:DockLayoutManager x:Name="PART_DockLayoutManager" ShowInvisibleItems="False" Background="Transparent">
                <dxdo:LayoutGroup Orientation="Horizontal" Margin="{TemplateBinding ShowBorder, Converter={StaticResource layoutGroupBoolToThicknessConverter}}">
                  <dxdo:LayoutPanel Name="paneComments" Caption="Main document comments" MaxWidth="500" Visibility="Collapsed">
                    <Control x:Name="PART_CommentControlHost" Template="{DynamicResource {dxret:RichEditControlThemeKey ResourceKey=EmptyCommentControlTemplate}}" />
                  </dxdo:LayoutPanel>
                  <dxdo:DocumentGroup Background="Transparent" ShowTabHeaders="False" TabbedGroupDisplayMode="ContentOnly">
                    <dxdo:DocumentPanel x:Name="paneRichEdit" Background="Transparent">
                      <dxrec:RichEditControlBorder Focusable="False" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" SnapsToDevicePixels="True" UseLayoutRounding="True" ShowBorder="{TemplateBinding ShowBorder}" VisibleBorderTemplate="{DynamicResource {dxret:RichEditControlThemeKey ResourceKey=BorderControlTemplate}}" InvisibleBorderTemplate="{StaticResource InvisibleBorderTemplate}">
                        <dx:DXArranger SnapsToDevicePixels="True">
                          <Grid Background="Transparent" SnapsToDevicePixels="True" UseLayoutRounding="True">
                            <Grid.RowDefinitions>
                              <RowDefinition Height="Auto" />
                              <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <dx:DXExpander x:Name="searchPanelExpander" AnimationProgress="0" HorizontalExpand="FromLeftToRight">
                              <dxreui:RichEditSearchPanel x:Name="SearchPanel" Visibility="Collapsed" SnapsToDevicePixels="True" UseLayoutRounding="True" />
                            </dx:DXExpander>
                            <ContentControl x:Name="FocusElement" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" Grid.Row="1" SnapsToDevicePixels="True" UseLayoutRounding="True" Focusable="False">
                              <Grid SnapsToDevicePixels="True" UseLayoutRounding="True">
                                <Grid.RowDefinitions>
                                  <RowDefinition Height="Auto" />
                                  <RowDefinition Height="*" />
                                  <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                  <ColumnDefinition Width="Auto" />
                                  <ColumnDefinition Width="*" />
                                  <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <dx:DXBorder Grid.Row="1" Grid.Column="1" BorderThickness="0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" x:Name="SurfaceBorder" SnapsToDevicePixels="True" UseLayoutRounding="True" EnableDPICorrection="False" dx:FrameworkElementHelper.IsClipped="True">
                                  <Grid.ColumnSpan>
                                    <Binding Path="(dx:ScrollBarExtensions.ScrollBarMode)" RelativeSource="{RelativeSource TemplatedParent}">
                                      <Binding.Converter>
                                        <dx:EnumToObjectConverter DefaultValue="1">
                                          <dx:EnumToObjectConverter.Values>
                                            <dx:EnumObjectProvider x:Key="TouchOverlap" Value="2" />
                                          </dx:EnumToObjectConverter.Values>
                                        </dx:EnumToObjectConverter>
                                      </Binding.Converter>
                                    </Binding>
                                  </Grid.ColumnSpan>
                                  <Grid.RowSpan>
                                    <Binding Path="(dx:ScrollBarExtensions.ScrollBarMode)" RelativeSource="{RelativeSource TemplatedParent}">
                                      <Binding.Converter>
                                        <dx:EnumToObjectConverter DefaultValue="1">
                                          <dx:EnumToObjectConverter.Values>
                                            <dx:EnumObjectProvider x:Key="TouchOverlap" Value="2" />
                                          </dx:EnumToObjectConverter.Values>
                                        </dx:EnumToObjectConverter>
                                      </Binding.Converter>
                                    </Binding>
                                  </Grid.RowSpan>
                                  <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" SnapsToDevicePixels="True" UseLayoutRounding="True">
                                    <Canvas x:Name="Surface" AllowDrop="True" Background="Transparent" SnapsToDevicePixels="True" UseLayoutRounding="True" />
                                    <Canvas HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                      <dxrec:KeyCodeConverter x:Name="KeyCodeConverter" Height="0" Opacity="0" />
                                    </Canvas>
                                  </Grid>
                                </dx:DXBorder>
                                <!--HorizontalRuler-->
                                <Grid x:Name="Hruler" Grid.ColumnSpan="3" Visibility="{TemplateBinding HorizontalRulerVisibility}" SnapsToDevicePixels="True" UseLayoutRounding="True">
                                  <dxrec:HorizontalRulerControl Template="{DynamicResource {dxret:RichEditRulerThemeKey ResourceKey=HorizontalRulerControlTemplate}}" x:Name="HorizontalRuler" Focusable="False" />
                                </Grid>
                                <!--VerticalRuler-->
                                <Grid Grid.Row="1" Grid.RowSpan="2" x:Name="Vruler" Visibility="{TemplateBinding VerticalRulerVisibility}" Margin="0,0,0,0" SnapsToDevicePixels="True" UseLayoutRounding="True">
                                  <dxrec:VerticalRulerControl Template="{DynamicResource {dxret:RichEditRulerThemeKey ResourceKey=VerticalRulerControlTemplate}}" x:Name="VerticalRuler" Focusable="False" />
                                </Grid>
                                <!--VerticalScrollBar-->
                                <Grid Grid.Row="1" Grid.Column="2" Visibility="{TemplateBinding VerticalScrollBarVisibility}" SnapsToDevicePixels="True" UseLayoutRounding="True">
                                  <ScrollBar x:Name="VerticalScrollBar" Orientation="Vertical" dx:StyleManager.ApplyApplicationTheme="True" SnapsToDevicePixels="True" UseLayoutRounding="True" />
                                </Grid>
                                <!--HorizontalScrollBar-->
                                <Grid Grid.Column="1" Grid.Row="2" Visibility="{TemplateBinding HorizontalScrollBarVisibility}" SnapsToDevicePixels="True" UseLayoutRounding="True">
                                  <ScrollBar x:Name="HorizontalScrollBar" Orientation="Horizontal" dx:StyleManager.ApplyApplicationTheme="True" SnapsToDevicePixels="True" UseLayoutRounding="True" />
                                </Grid>
                                <!--ContentControlContentControlComboBox-->
                                <Canvas Grid.RowSpan="3" Grid.ColumnSpan="3">
                                  <dxrec:XpfContentControlComboBoxInplaceEditor Height="0" IsTextEditable="False" ShowBorder="False" x:Name="ContentControlComboBox">
                                    <dxrec:XpfContentControlComboBoxInplaceEditor.StyleSettings>
                                      <dxe:ComboBoxStyleSettings />
                                    </dxrec:XpfContentControlComboBoxInplaceEditor.StyleSettings>
                                  </dxrec:XpfContentControlComboBoxInplaceEditor>
                                </Canvas>
                                <!--ContentControlContentControlDate-->
                                <Canvas Grid.RowSpan="3" Grid.ColumnSpan="3">
                                  <dxrec:XpfContentControlDateInplaceEditor Height="0" IsTextEditable="False" ShowBorder="False" ShowToday="True" ShowClearButton="False" x:Name="ContentControlDate">
                                    <dxrec:XpfContentControlDateInplaceEditor.StyleSettings>
                                      <dxe:DateEditNavigatorStyleSettings />
                                    </dxrec:XpfContentControlDateInplaceEditor.StyleSettings>
                                  </dxrec:XpfContentControlDateInplaceEditor>
                                </Canvas>
                                <dx:CornerBox Grid.Row="2" Grid.Column="2" SnapsToDevicePixels="True" UseLayoutRounding="True" Focusable="False">
                                  <dx:CornerBox.Visibility>
                                    <MultiBinding>
                                      <MultiBinding.Bindings>
                                        <Binding Path="(dx:ScrollBarExtensions.ScrollBarMode)" RelativeSource="{RelativeSource TemplatedParent}" />
                                        <Binding Path="CornerBoxVisibility" RelativeSource="{RelativeSource TemplatedParent}" />
                                      </MultiBinding.Bindings>
                                      <MultiBinding.Converter>
                                        <dxrec:CornerBoxVisibilityConverter />
                                      </MultiBinding.Converter>
                                    </MultiBinding>
                                  </dx:CornerBox.Visibility>
                                </dx:CornerBox>
                              </Grid>
                            </ContentControl>
                          </Grid>
                        </dx:DXArranger>
                      </dxrec:RichEditControlBorder>
                    </dxdo:DocumentPanel>
                  </dxdo:DocumentGroup>
                </dxdo:LayoutGroup>
              </dxdo:DockLayoutManager>
            </ContentControl>
          </DockPanel>
          <ControlTemplate.Triggers>
            <Trigger Property="CommandBarStyle" Value="Ribbon">
              <Setter TargetName="PART_RibbonHost" Property="Template" Value="{DynamicResource {dxret:RichEditControlThemeKey ResourceKey=RibbonTemplate}}" />
            </Trigger>
            <Trigger Property="UseBuiltInReviewingPane" Value="True">
              <Setter TargetName="PART_CommentControlHost" Property="Template" Value="{DynamicResource {dxret:RichEditControlThemeKey ResourceKey=CommentControlTemplate}}" />
            </Trigger>
            <MultiTrigger>
              <MultiTrigger.Conditions>
                <Condition Property="ShowReviewingPane" Value="True" />
                <Condition Property="UseBuiltInReviewingPane" Value="True" />
              </MultiTrigger.Conditions>
              <Setter TargetName="paneComments" Property="Visibility" Value="Visible" />
            </MultiTrigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="dx:ScrollBarExtensions.ScrollBehavior">
      <Setter.Value>
        <dxreui:RichEditControlScrollBehavior />
      </Setter.Value>
    </Setter>
  </Style>
</ResourceDictionary>