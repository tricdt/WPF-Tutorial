<ResourceDictionary mc:Ignorable="cs" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:cs="colorscheme_ignorable_uri" xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core" xmlns:dxbt="http://schemas.devexpress.com/winfx/2008/xaml/bars/themekeys" xmlns:dxi="http://schemas.devexpress.com/winfx/2008/xaml/core/internal" xmlns:dxt="http://schemas.devexpress.com/winfx/2008/xaml/core/themekeys" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:sys="clr-namespace:System;assembly=mscorlib" xmlns:theme="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Aero" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <ResourceDictionary.MergedDictionaries>
    <dxt:ResourceDictionaryEx Source="/DevExpress.Xpf.Themes.Office2016DarkGraySE.v24.1;component/Core/Core/Themes/UICore.xaml" />
    <dxt:ResourceDictionaryEx Source="/DevExpress.Xpf.Themes.Office2016DarkGraySE.v24.1;component/UICore/UIData.xaml" />
    <dxt:ResourceDictionaryEx Source="/DevExpress.Xpf.Themes.Office2016DarkGraySE.v24.1;component/Core/Core/Bars/Themes/Office2016DarkGraySE/SubMenuBar/ScrollButtons.xaml" />
    <dxt:ResourceDictionaryEx Source="/DevExpress.Xpf.Themes.Office2016DarkGraySE.v24.1;component/Core/Core/Themes/Office2016DarkGraySE/StandardControls/StandardControlsBrushes.xaml" />
  </ResourceDictionary.MergedDictionaries>
  <!-- Context Menu Scroll Viewer -->
  <MenuScrollingVisibilityConverter x:Key="MenuScrollingVisibilityConverter" />
  <Style x:Key="MenuScrollViewer" BasedOn="{x:Null}" TargetType="{x:Type ScrollViewer}">
    <Setter Property="HorizontalScrollBarVisibility" Value="Hidden" />
    <Setter Property="VerticalScrollBarVisibility" Value="Auto" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type ScrollViewer}">
          <Grid SnapsToDevicePixels="true">
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
              <RowDefinition Height="Auto" />
              <RowDefinition Height="*" />
              <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Border Grid.Column="0" Grid.Row="1">
              <ScrollContentPresenter CanContentScroll="{TemplateBinding CanContentScroll}" Margin="{TemplateBinding Padding}" />
            </Border>
            <RepeatButton Command="{x:Static ScrollBar.LineUpCommand}" CommandTarget="{Binding RelativeSource={RelativeSource TemplatedParent}}" Focusable="false" Grid.Column="0" Grid.Row="0" Style="{DynamicResource {dxbt:SubMenuBarControlThemeKey ResourceKey=ScrollUpButtonStyle}}">
              <RepeatButton.Visibility>
                <MultiBinding Converter="{StaticResource MenuScrollingVisibilityConverter}" ConverterParameter="0" FallbackValue="Visibility.Collapsed">
                  <Binding Path="ComputedVerticalScrollBarVisibility" RelativeSource="{RelativeSource TemplatedParent}" />
                  <Binding Path="VerticalOffset" RelativeSource="{RelativeSource TemplatedParent}" />
                  <Binding Path="ExtentHeight" RelativeSource="{RelativeSource TemplatedParent}" />
                  <Binding Path="ViewportHeight" RelativeSource="{RelativeSource TemplatedParent}" />
                </MultiBinding>
              </RepeatButton.Visibility>
            </RepeatButton>
            <RepeatButton Command="{x:Static ScrollBar.LineDownCommand}" CommandTarget="{Binding RelativeSource={RelativeSource TemplatedParent}}" Focusable="false" Grid.Column="0" Grid.Row="2" Style="{DynamicResource {dxbt:SubMenuBarControlThemeKey ResourceKey=ScrollDownButtonStyle}}">
              <RepeatButton.Visibility>
                <MultiBinding Converter="{StaticResource MenuScrollingVisibilityConverter}" ConverterParameter="100" FallbackValue="Visibility.Collapsed">
                  <Binding Path="ComputedVerticalScrollBarVisibility" RelativeSource="{RelativeSource TemplatedParent}" />
                  <Binding Path="VerticalOffset" RelativeSource="{RelativeSource TemplatedParent}" />
                  <Binding Path="ExtentHeight" RelativeSource="{RelativeSource TemplatedParent}" />
                  <Binding Path="ViewportHeight" RelativeSource="{RelativeSource TemplatedParent}" />
                </MultiBinding>
              </RepeatButton.Visibility>
            </RepeatButton>
          </Grid>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <!-- Menu scroll -->
  <!-- Context Menu -->
  <ControlTemplate x:Key="MenuSeparatorTemplate" TargetType="{x:Type Separator}">
    <Grid Margin="0,6,0,4" SnapsToDevicePixels="true" UseLayoutRounding="False">
      <Rectangle Fill="#FF808080" Height="1" Margin="30,0,1,1" cs:id="Rectangle_0000" x:Uid="@Fill=Delimiter" />
    </Grid>
  </ControlTemplate>
  <Style x:Key="{dxt:DefaultStyleThemeKey FullName=System.Windows.Controls.ContextMenu}" TargetType="{x:Type ContextMenu}">
    <Style.Resources>
      <Style x:Key="{x:Static MenuItem.SeparatorStyleKey}" TargetType="{x:Type Separator}">
        <Setter Property="Template" Value="{StaticResource MenuSeparatorTemplate}" />
      </Style>
    </Style.Resources>
    <Setter Property="Background" Value="{StaticResource ContextMenu_Background}" />
    <Setter Property="Foreground" Value="{StaticResource ContextMenuItem_Foreground}" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="BorderThickness" Value="1" />
    <Setter Property="BorderBrush" Value="{StaticResource ContextMenu_Border}" />
    <Setter Property="FocusVisualStyle" Value="{x:Null}" />
    <Setter Property="Padding" Value="2" />
    <Setter Property="Grid.IsSharedSizeScope" Value="true" />
    <Setter Property="HasDropShadow" Value="{DynamicResource {x:Static SystemParameters.DropShadowKey}}" />
    <Setter Property="ScrollViewer.PanningMode" Value="Both" />
    <Setter Property="Stylus.IsFlicksEnabled" Value="False" />
    <Setter Property="dx:WpfSvgPalette.Palette" Value="{DynamicResource {dxbt:BarSvgPaletteThemeKey ResourceKey=SvgPaletteInMenu}}" />
    <Setter Property="FontFamily" Value="Segoe UI" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type ContextMenu}">
          <theme:SystemDropShadowChrome Name="Shdw" Color="Transparent" SnapsToDevicePixels="true" cs:id="SystemDropShadowChrome_0000">
            <Border Name="ContextMenuBorder" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
              <ScrollViewer Name="ContextMenuScrollViewer" Margin="0" Style="{StaticResource MenuScrollViewer}">
                <Grid RenderOptions.ClearTypeHint="Enabled">
                  <Canvas Height="0" HorizontalAlignment="Left" VerticalAlignment="Top" Width="0">
                    <Rectangle Name="OpaqueRect" Fill="{Binding ElementName=ContextMenuBorder,Path=Background}" Height="{Binding ElementName=ContextMenuBorder,Path=ActualHeight}" Width="{Binding ElementName=ContextMenuBorder,Path=ActualWidth}" />
                  </Canvas>
                  <Border>
                    <ItemsPresenter Name="ItemsPresenter" KeyboardNavigation.DirectionalNavigation="Cycle" Margin="{TemplateBinding Padding}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                  </Border>
                </Grid>
              </ScrollViewer>
            </Border>
          </theme:SystemDropShadowChrome>
          <ControlTemplate.Triggers>
            <Trigger Property="HasDropShadow" Value="true">
              <Setter Property="Margin" TargetName="Shdw" Value="0,0,5,5" />
              <Setter Property="Color" TargetName="Shdw" Value="#10000000" cs:id="Setter_0000" />
            </Trigger>
            <Trigger Property="ScrollViewer.CanContentScroll" SourceName="ContextMenuScrollViewer" Value="false">
              <Setter Property="Canvas.Top" TargetName="OpaqueRect" Value="{Binding ElementName=ContextMenuScrollViewer, Path=VerticalOffset}" />
              <Setter Property="Canvas.Left" TargetName="OpaqueRect" Value="{Binding ElementName=ContextMenuScrollViewer, Path=HorizontalOffset}" />
            </Trigger>
          </ControlTemplate.Triggers>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <!-- ContextMenu -->
  <!-- (1) Top Lvl Item -->
  <ControlTemplate x:Key="{dxt:CommonThemeKey ResourceKey=TopLevelItemTemplateKey}" TargetType="{x:Type MenuItem}">
    <Grid SnapsToDevicePixels="true">
      <Border x:Name="Bg" BorderThickness="1" Margin="1" SnapsToDevicePixels="true" />
      <DockPanel>
        <ContentPresenter x:Name="Icon" ContentSource="Icon" Height="16" HorizontalAlignment="Center" Margin="4,0,2,0" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="Center" Width="16" />
        <Path x:Name="GlyphPanel" Fill="{TemplateBinding MenuItem.Foreground}" FlowDirection="LeftToRight" Margin="6,0,0,0" Style="{StaticResource UIShape.Checked}" VerticalAlignment="Center" Visibility="Collapsed" />
        <ContentPresenter ContentSource="Header" Margin="{TemplateBinding MenuItem.Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="Center" />
      </DockPanel>
    </Grid>
    <ControlTemplate.Triggers>
      <Trigger Property="Icon" Value="{x:Null}">
        <Setter Property="Visibility" TargetName="Icon" Value="Collapsed" />
      </Trigger>
      <Trigger Property="IsChecked" Value="true">
        <Setter Property="Visibility" TargetName="GlyphPanel" Value="Visible" />
        <Setter Property="Visibility" TargetName="Icon" Value="Collapsed" />
      </Trigger>
      <Trigger Property="IsHighlighted" Value="true">
        <Setter Property="Foreground" Value="{StaticResource MenuItem_HoverForeground}" cs:id="Setter_0000" />
        <Setter Property="BorderBrush" TargetName="Bg" Value="{StaticResource MenuItem_HoverBorder}" />
        <Setter Property="Background" TargetName="Bg" Value="{StaticResource MenuItem_HoverBackground}" />
      </Trigger>
      <Trigger Property="IsPressed" Value="true">
        <Setter Property="Foreground" Value="{StaticResource MenuItem_PressedForeground}" cs:id="Setter_0002" />
        <Setter Property="Background" TargetName="Bg" Value="{StaticResource MenuItem_SelectionBackground}" />
        <Setter Property="BorderBrush" TargetName="Bg" Value="{StaticResource MenuItem_SelectionBorder}" />
      </Trigger>
      <Trigger Property="IsKeyboardFocused" Value="true">
        <Setter Property="Foreground" Value="{StaticResource MenuItem_Foreground}" cs:id="Setter_0004" />
        <Setter Property="BorderBrush" TargetName="Bg" Value="#FF000000" cs:id="Setter_0003" x:Uid="@Value=Focused" />
        <Setter Property="Background" TargetName="Bg" Value="Transparent" cs:id="Setter_0001" />
      </Trigger>
      <Trigger Property="IsEnabled" Value="false">
        <Setter Property="Opacity" Value="0.5" />
      </Trigger>
      <Trigger Property="IsHighlighted" Value="True">
        <Setter Property="dx:SvgImageHelper.State" TargetName="Icon" Value="Hover" />
      </Trigger>
      <Trigger Property="IsPressed" Value="True">
        <Setter Property="dx:SvgImageHelper.State" TargetName="Icon" Value="Pressed" />
      </Trigger>
    </ControlTemplate.Triggers>
  </ControlTemplate>
  <!-- (2) Top Lvl Header -->
  <ControlTemplate x:Key="{dxt:CommonThemeKey ResourceKey=TopLevelHeaderTemplateKey}" TargetType="{x:Type MenuItem}">
    <Grid SnapsToDevicePixels="true">
      <Border Name="Bg" BorderThickness="1" Margin="1" />
      <DockPanel>
        <ContentPresenter x:Name="Icon" ContentSource="Icon" Height="16" HorizontalAlignment="Center" Margin="4,0,2,0" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="Center" Width="16" />
        <Path x:Name="GlyphPanel" Fill="{TemplateBinding MenuItem.Foreground}" FlowDirection="LeftToRight" Margin="6,0,0,0" Style="{StaticResource UIShape.Checked}" VerticalAlignment="Center" Visibility="Collapsed" />
        <ContentPresenter ContentSource="Header" Margin="{TemplateBinding MenuItem.Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="Center" />
      </DockPanel>
      <Popup x:Name="PART_Popup" AllowsTransparency="true" Focusable="false" HorizontalOffset="1" IsOpen="{Binding Path=IsSubmenuOpen,RelativeSource={RelativeSource TemplatedParent}}" Placement="Bottom" PopupAnimation="{DynamicResource {x:Static SystemParameters.MenuPopupAnimationKey}}" VerticalOffset="-1">
        <theme:SystemDropShadowChrome Name="Shdw" Color="Transparent" cs:id="SystemDropShadowChrome_0000">
          <Border Name="SubMenuBorder" Background="{StaticResource ContextMenu_Background}" BorderBrush="{StaticResource ContextMenu_Border}" BorderThickness="1" cs:id="Border_0000">
            <ScrollViewer Name="SubMenuScrollViewer" Style="{StaticResource MenuScrollViewer}">
              <Grid RenderOptions.ClearTypeHint="Enabled">
                <Canvas Height="0" HorizontalAlignment="Left" VerticalAlignment="Top" Width="0">
                  <Rectangle Name="OpaqueRect" Fill="{Binding ElementName=SubMenuBorder,Path=Background}" Height="{Binding ElementName=SubMenuBorder,Path=ActualHeight}" Width="{Binding ElementName=SubMenuBorder,Path=ActualWidth}" cs:id="Rectangle_0004" />
                </Canvas>
                <Border>
                  <ItemsPresenter Name="ItemsPresenter" Grid.IsSharedSizeScope="true" KeyboardNavigation.DirectionalNavigation="Cycle" KeyboardNavigation.TabNavigation="Cycle" Margin="1" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                </Border>
              </Grid>
            </ScrollViewer>
          </Border>
        </theme:SystemDropShadowChrome>
      </Popup>
    </Grid>
    <ControlTemplate.Triggers>
      <Trigger Property="IsSuspendingPopupAnimation" Value="true">
        <Setter Property="PopupAnimation" TargetName="PART_Popup" Value="None" />
      </Trigger>
      <Trigger Property="Icon" Value="{x:Null}">
        <Setter Property="Visibility" TargetName="Icon" Value="Collapsed" />
      </Trigger>
      <Trigger Property="IsChecked" Value="true">
        <Setter Property="Visibility" TargetName="GlyphPanel" Value="Visible" />
        <Setter Property="Visibility" TargetName="Icon" Value="Collapsed" />
      </Trigger>
      <Trigger Property="Popup.HasDropShadow" SourceName="PART_Popup" Value="true">
        <Setter Property="Margin" TargetName="Shdw" Value="0,0,5,5" />
        <Setter Property="Color" TargetName="Shdw" Value="#10000000" cs:id="Setter_0000" />
      </Trigger>
      <Trigger Property="IsHighlighted" Value="true">
        <Setter Property="Foreground" Value="{StaticResource MenuItem_HoverForeground}" />
        <Setter Property="Background" TargetName="Bg" Value="{StaticResource MenuItem_HoverBackground}" />
        <Setter Property="BorderBrush" TargetName="Bg" Value="{StaticResource MenuItem_HoverBorder}" />
      </Trigger>
      <Trigger Property="IsPressed" Value="true">
        <Setter Property="Foreground" Value="{StaticResource MenuItem_PressedForeground}" />
        <Setter Property="Background" TargetName="Bg" Value="{StaticResource ContextMenuItem_SelectionBackground}" />
        <Setter Property="BorderBrush" TargetName="Bg" Value="{StaticResource ContextMenuItem_SelectionBorder}" />
      </Trigger>
      <Trigger Property="IsKeyboardFocused" Value="true">
        <Setter Property="Foreground" Value="{StaticResource MenuItem_Foreground}" cs:id="Setter_0012" />
        <Setter Property="BorderBrush" TargetName="Bg" Value="#FF000000" cs:id="Setter_0004" x:Uid="@Value=Focused" />
        <Setter Property="Background" TargetName="Bg" Value="Transparent" cs:id="Setter_0003" />
      </Trigger>
      <Trigger Property="IsSubmenuOpen" Value="true">
        <Setter Property="Foreground" Value="{StaticResource MenuItem_PressedForeground}" />
        <Setter Property="BorderBrush" TargetName="Bg" Value="{StaticResource MenuItem_SelectionBorder}" cs:id="Setter_0006" />
        <Setter Property="Background" TargetName="Bg" Value="{StaticResource MenuItem_SelectionBackground}" cs:id="Setter_0001" />
      </Trigger>
      <Trigger Property="IsEnabled" Value="false">
        <Setter Property="Opacity" Value="0.5" />
      </Trigger>
      <Trigger Property="ScrollViewer.CanContentScroll" SourceName="SubMenuScrollViewer" Value="false">
        <Setter Property="Canvas.Top" TargetName="OpaqueRect" Value="{Binding ElementName=SubMenuScrollViewer, Path=VerticalOffset}" />
        <Setter Property="Canvas.Left" TargetName="OpaqueRect" Value="{Binding ElementName=SubMenuScrollViewer, Path=HorizontalOffset}" />
      </Trigger>
      <Trigger Property="IsHighlighted" Value="True">
        <Setter Property="dx:SvgImageHelper.State" TargetName="Icon" Value="Hover" />
      </Trigger>
      <Trigger Property="IsPressed" Value="True">
        <Setter Property="dx:SvgImageHelper.State" TargetName="Icon" Value="Pressed" />
      </Trigger>
    </ControlTemplate.Triggers>
  </ControlTemplate>
  <!-- (3) Sub Item -->
  <ControlTemplate x:Key="{dxt:CommonThemeKey ResourceKey=SubmenuItemTemplateKey}" TargetType="{x:Type MenuItem}">
    <Grid SnapsToDevicePixels="true">
      <Border Name="Bg" Background="{TemplateBinding MenuItem.Background}" BorderBrush="{TemplateBinding MenuItem.BorderBrush}" BorderThickness="1" />
      <Grid>
        <Grid.ColumnDefinitions>
          <ColumnDefinition MinWidth="24" SharedSizeGroup="MenuItemIconColumnGroup" Width="Auto" />
          <ColumnDefinition Width="4" />
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="37" />
          <ColumnDefinition SharedSizeGroup="MenuItemIGTColumnGroup" Width="Auto" />
          <ColumnDefinition Width="17" />
        </Grid.ColumnDefinitions>
        <ContentPresenter x:Name="Icon" ContentSource="Icon" Margin="1" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="Center" />
        <Border x:Name="GlyphPanel" Margin="1" Visibility="Hidden" cs:id="Border_0001">
          <Path Name="Glyph" Fill="{TemplateBinding Foreground}" FlowDirection="LeftToRight" Height="8" Style="{StaticResource UIShape.Checked}" VerticalAlignment="Center" Width="8" cs:id="Path_0000" />
        </Border>
        <ContentPresenter ContentSource="Header" Grid.Column="2" Margin="{TemplateBinding MenuItem.Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="Center" />
        <TextBlock Grid.Column="4" Margin="{TemplateBinding MenuItem.Padding}" Text="{TemplateBinding MenuItem.InputGestureText}" VerticalAlignment="Center" />
      </Grid>
    </Grid>
    <ControlTemplate.Triggers>
      <Trigger Property="Icon" Value="{x:Null}">
        <Setter Property="Visibility" TargetName="Icon" Value="Collapsed" />
      </Trigger>
      <Trigger Property="IsChecked" Value="true">
        <Setter Property="Visibility" TargetName="GlyphPanel" Value="Visible" />
        <Setter Property="Visibility" TargetName="Icon" Value="Collapsed" />
      </Trigger>
      <Trigger Property="IsHighlighted" Value="true">
        <Setter Property="Foreground" Value="{StaticResource ContextMenuItem_HoverForeground}" />
        <Setter Property="Background" TargetName="Bg" Value="{StaticResource ContextMenuItem_HoverBackground}" cs:id="Setter_0006" />
        <Setter Property="BorderBrush" TargetName="Bg" Value="{StaticResource ContextMenuItem_HoverBorder}" cs:id="Setter_0000" />
      </Trigger>
      <Trigger Property="IsPressed" Value="true">
        <Setter Property="Foreground" Value="{StaticResource ContextMenuItem_PressedForeground}" />
        <Setter Property="Background" TargetName="Bg" Value="{StaticResource ContextMenuItem_SelectionBackground}" />
        <Setter Property="BorderBrush" TargetName="Bg" Value="{StaticResource ContextMenuItem_SelectionBorder}" />
      </Trigger>
      <Trigger Property="IsEnabled" Value="false">
        <Setter Property="Opacity" Value="0.5" />
      </Trigger>
      <Trigger Property="IsHighlighted" Value="True">
        <Setter Property="dx:SvgImageHelper.State" TargetName="Icon" Value="Hover" />
      </Trigger>
      <Trigger Property="IsPressed" Value="True">
        <Setter Property="dx:SvgImageHelper.State" TargetName="Icon" Value="Pressed" />
      </Trigger>
    </ControlTemplate.Triggers>
  </ControlTemplate>
  <!-- (4) Sub Item Header -->
  <ControlTemplate x:Key="{dxt:CommonThemeKey ResourceKey=SubmenuHeaderTemplateKey}" TargetType="{x:Type MenuItem}">
    <Grid SnapsToDevicePixels="true">
      <Border Name="Bg" Background="{TemplateBinding MenuItem.Background}" BorderBrush="{TemplateBinding MenuItem.BorderBrush}" BorderThickness="1" />
      <Grid>
        <Grid.ColumnDefinitions>
          <ColumnDefinition MinWidth="24" SharedSizeGroup="MenuItemIconColumnGroup" Width="Auto" />
          <ColumnDefinition Width="4" />
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="37" />
          <ColumnDefinition SharedSizeGroup="MenuItemIGTColumnGroup" Width="Auto" />
          <ColumnDefinition Width="17" />
        </Grid.ColumnDefinitions>
        <ContentPresenter x:Name="Icon" ContentSource="Icon" Margin="0" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="Center" />
        <Border x:Name="GlyphPanel" Margin="1" Visibility="Hidden" cs:id="Border_0001">
          <Path Name="Glyph" Fill="{TemplateBinding Foreground}" FlowDirection="LeftToRight" Height="8" Style="{StaticResource UIShape.Checked}" VerticalAlignment="Center" Width="8" cs:id="Path_0000" />
        </Border>
        <ContentPresenter ContentSource="Header" Grid.Column="2" Margin="{TemplateBinding MenuItem.Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="Center" />
        <TextBlock Grid.Column="4" Margin="{TemplateBinding MenuItem.Padding}" Text="{TemplateBinding MenuItem.InputGestureText}" Visibility="Collapsed" />
        <Path Fill="{TemplateBinding MenuItem.Foreground}" Grid.Column="5" Margin="4,0,0,0" Style="{StaticResource UIShape.Right}" VerticalAlignment="Center" />
      </Grid>
      <Popup x:Name="PART_Popup" AllowsTransparency="true" Focusable="false" IsOpen="{Binding Path=IsSubmenuOpen,RelativeSource={RelativeSource TemplatedParent}}" Placement="Right" PopupAnimation="{DynamicResource {x:Static SystemParameters.MenuPopupAnimationKey}}" VerticalOffset="-3">
        <theme:SystemDropShadowChrome Name="Shdw" Color="Transparent" CornerRadius="0" cs:id="SystemDropShadowChrome_0000">
          <Border Name="SubMenuBorder" Background="{StaticResource ContextMenu_Background}" BorderBrush="{StaticResource ContextMenu_Border}" BorderThickness="1" CornerRadius="0" cs:id="Border_0000">
            <ScrollViewer Name="SubMenuScrollViewer" Margin="0" Style="{StaticResource MenuScrollViewer}">
              <Grid RenderOptions.ClearTypeHint="Enabled">
                <Canvas Height="0" HorizontalAlignment="Left" VerticalAlignment="Top" Width="0">
                  <Rectangle Name="OpaqueRect" Fill="{Binding ElementName=SubMenuBorder,Path=Background}" Height="{Binding ElementName=SubMenuBorder,Path=ActualHeight}" Width="{Binding ElementName=SubMenuBorder,Path=ActualWidth}" />
                </Canvas>
                <Border>
                  <ItemsPresenter Name="ItemsPresenter" Grid.IsSharedSizeScope="true" KeyboardNavigation.DirectionalNavigation="Cycle" KeyboardNavigation.TabNavigation="Cycle" Margin="1" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                </Border>
              </Grid>
            </ScrollViewer>
          </Border>
        </theme:SystemDropShadowChrome>
      </Popup>
    </Grid>
    <ControlTemplate.Triggers>
      <Trigger Property="IsSuspendingPopupAnimation" Value="true">
        <Setter Property="PopupAnimation" TargetName="PART_Popup" Value="None" />
      </Trigger>
      <Trigger Property="Icon" Value="{x:Null}">
        <Setter Property="Visibility" TargetName="Icon" Value="Collapsed" />
      </Trigger>
      <Trigger Property="IsChecked" Value="true">
        <Setter Property="Visibility" TargetName="GlyphPanel" Value="Visible" />
        <Setter Property="Visibility" TargetName="Icon" Value="Collapsed" />
      </Trigger>
      <Trigger Property="Popup.HasDropShadow" SourceName="PART_Popup" Value="true">
        <Setter Property="Margin" TargetName="Shdw" Value="0,0,5,5" />
        <Setter Property="Color" TargetName="Shdw" Value="#10000000" cs:id="Setter_0001" />
      </Trigger>
      <Trigger Property="IsHighlighted" Value="true">
        <Setter Property="Foreground" Value="{StaticResource ContextMenuItem_HoverForeground}" />
        <Setter Property="Background" TargetName="Bg" Value="{StaticResource ContextMenuItem_HoverBackground}" />
        <Setter Property="BorderBrush" TargetName="Bg" Value="{StaticResource ContextMenuItem_HoverBorder}" cs:id="Setter_0002" />
      </Trigger>
      <Trigger Property="IsPressed" Value="true">
        <Setter Property="Foreground" Value="{StaticResource ContextMenuItem_PressedForeground}" />
        <Setter Property="Background" TargetName="Bg" Value="{StaticResource ContextMenuItem_SelectionBackground}" />
        <Setter Property="BorderBrush" TargetName="Bg" Value="{StaticResource ContextMenuItem_SelectionBorder}" />
      </Trigger>
      <Trigger Property="IsEnabled" Value="false">
        <Setter Property="Opacity" Value="0.5" />
      </Trigger>
      <Trigger Property="ScrollViewer.CanContentScroll" SourceName="SubMenuScrollViewer" Value="false">
        <Setter Property="Canvas.Top" TargetName="OpaqueRect" Value="{Binding ElementName=SubMenuScrollViewer, Path=VerticalOffset}" />
        <Setter Property="Canvas.Left" TargetName="OpaqueRect" Value="{Binding ElementName=SubMenuScrollViewer, Path=HorizontalOffset}" />
      </Trigger>
      <Trigger Property="IsHighlighted" Value="True">
        <Setter Property="dx:SvgImageHelper.State" TargetName="Icon" Value="Hover" />
      </Trigger>
      <Trigger Property="IsPressed" Value="True">
        <Setter Property="dx:SvgImageHelper.State" TargetName="Icon" Value="Pressed" />
      </Trigger>
    </ControlTemplate.Triggers>
  </ControlTemplate>
  <!-- MenuItems Style -->
  <Style x:Key="{dxt:DefaultStyleThemeKey FullName=System.Windows.Controls.MenuItem}" TargetType="{x:Type MenuItem}">
    <Setter Property="HorizontalContentAlignment" Value="{Binding Path=HorizontalContentAlignment,RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}" />
    <Setter Property="VerticalContentAlignment" Value="{Binding Path=VerticalContentAlignment,RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}" />
    <Setter Property="dx:WpfSvgPalette.Palette" Value="{DynamicResource {dxbt:BarSvgPaletteThemeKey ResourceKey=SvgPaletteInMenu}}" />
    <Setter Property="Background" Value="Transparent" cs:id="Setter_0000" />
    <Setter Property="ScrollViewer.PanningMode" Value="Both" />
    <Setter Property="Stylus.IsFlicksEnabled" Value="False" />
    <Setter Property="Template" Value="{DynamicResource {dxt:CommonThemeKey ResourceKey=SubmenuItemTemplateKey}}" />
    <Style.Triggers>
      <Trigger Property="Role" Value="TopLevelHeader">
        <Setter Property="Padding" Value="7,4,8,4" />
        <Setter Property="Template" Value="{DynamicResource {dxt:CommonThemeKey ResourceKey=TopLevelHeaderTemplateKey}}" />
      </Trigger>
      <Trigger Property="Role" Value="TopLevelItem">
        <Setter Property="Padding" Value="7,3,8,3" />
        <Setter Property="Template" Value="{DynamicResource {dxt:CommonThemeKey ResourceKey=TopLevelItemTemplateKey}}" />
      </Trigger>
      <Trigger Property="Role" Value="SubmenuHeader">
        <Setter Property="Padding" Value="2,3" />
        <Setter Property="Template" Value="{DynamicResource {dxt:CommonThemeKey ResourceKey=SubmenuHeaderTemplateKey}}" />
        <Setter Property="Foreground" Value="{StaticResource ContextMenuItem_Foreground}" />
      </Trigger>
      <Trigger Property="Role" Value="SubmenuItem">
        <Setter Property="Padding" Value="2,3" />
        <Setter Property="Foreground" Value="{StaticResource ContextMenuItem_Foreground}" />
      </Trigger>
      <MultiTrigger>
        <MultiTrigger.Conditions>
          <Condition Property="dx:ThemeManager.IsTouchEnabled" Value="True" />
          <Condition Property="Role" Value="TopLevelHeader" />
        </MultiTrigger.Conditions>
        <Setter Property="Padding" Value="7,15,8,15" />
      </MultiTrigger>
      <MultiTrigger>
        <MultiTrigger.Conditions>
          <Condition Property="dx:ThemeManager.IsTouchEnabled" Value="True" />
          <Condition Property="Role" Value="TopLevelItem" />
        </MultiTrigger.Conditions>
        <Setter Property="Padding" Value="7,14,8,14" />
      </MultiTrigger>
      <MultiTrigger>
        <MultiTrigger.Conditions>
          <Condition Property="dx:ThemeManager.IsTouchEnabled" Value="True" />
          <Condition Property="Role" Value="SubmenuHeader" />
        </MultiTrigger.Conditions>
        <Setter Property="Padding" Value="2,14" />
      </MultiTrigger>
      <MultiTrigger>
        <MultiTrigger.Conditions>
          <Condition Property="dx:ThemeManager.IsTouchEnabled" Value="True" />
          <Condition Property="Role" Value="SubmenuItem" />
        </MultiTrigger.Conditions>
        <Setter Property="Padding" Value="2,14" />
      </MultiTrigger>
    </Style.Triggers>
  </Style>
</ResourceDictionary>