<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm" xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core" xmlns:dxfui="http://schemas.devexpress.com/winfx/2008/xaml/core/filteringui" xmlns:dxfuit="http://schemas.devexpress.com/winfx/2008/xaml/core/filteringui/themekeys" xmlns:dxet="http://schemas.devexpress.com/winfx/2008/xaml/editors/themekeys" xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars" xmlns:dxpg="http://schemas.devexpress.com/winfx/2008/xaml/pivotgrid" xmlns:dxpgi="http://schemas.devexpress.com/winfx/2008/xaml/pivotgrid/internal" xmlns:dxfui_local_native="clr-namespace:DevExpress.Xpf.Core.FilteringUI.Native;assembly=DevExpress.Xpf.Grid.v24.1" xmlns:sys="clr-namespace:System;assembly=mscorlib" xmlns:dxdst="http://schemas.devexpress.com/winfx/2008/xaml/core/themekeys" xmlns:dxn="http://schemas.devexpress.com/winfx/2008/xaml/core/internal">
  <DataTemplate x:Key="FilterEditorDialogServiceTemplate">
    <ContentControl>
      <dx:DialogService DialogWindowStartupLocation="CenterOwner" ViewTemplate="{DynamicResource {dxfuit:FilterEditorThemeKey ResourceKey=FilterEditorDialogServiceViewTemplate}}">
        <dx:DialogService.DialogStyle>
          <Style x:Key="{dxdst:DefaultStyleThemeKey FullName=http://schemas.devexpress.com/winfx/2008/xaml/core.ThemedWindow}" TargetType="{x:Type dx:ThemedWindow}">
            <Setter Property="dxn:ThemedWindowOptions.ShowOverPopups" Value="True" />
            <Setter Property="ShowInTaskbar" Value="False" />
            <Setter Property="WindowStyle" Value="ToolWindow" />
            <Setter Property="ShowIcon" Value="False" />
            <Setter Property="UseLayoutRounding" Value="True" />
            <Setter Property="Width" Value="500" />
            <Setter Property="Height" Value="350" />
            <Setter Property="MinWidth" Value="500" />
            <Setter Property="MinHeight" Value="350" />
          </Style>
        </dx:DialogService.DialogStyle>
      </dx:DialogService>
    </ContentControl>
  </DataTemplate>
  <DataTemplate x:Key="FilterEditorTemplate">
    <dxfui:FilterEditorControl />
  </DataTemplate>
  <dxpgi:RowTreeToFieldHeadersMeasureModeConverter x:Key="rowTreeToFieldHeadersMeasureModeConverter" />
  <dxpgi:FontSizeToFieldHeightConverter LargeFontHeight="50" x:Key="fontSizeToFieldHeightConverter" />
  <!-- Moved from theme -->
  <SolidColorBrush x:Key="{dxpgi:AppearanceThemeKey ResourceKey=ExpandButtonColor}" />
  <SolidColorBrush x:Key="{dxpgi:AppearanceThemeKey ResourceKey=ExpandButtonBackground}" />
  <SolidColorBrush x:Key="{dxpgi:AppearanceThemeKey ResourceKey=ExpandButtonInnerBackground}" />
  <SolidColorBrush x:Key="{dxpgi:AppearanceThemeKey ResourceKey=GroupBorderShadowColor}" />
  <ControlTemplate x:Key="{dxpgi:PivotGridThemeKey ResourceKey=ScrollerTemplate}" TargetType="{x:Type dxpgi:PivotGridScroller}">
    <dx:SimplePanel>
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="HorizontalScrollGroups">
          <VisualState x:Name="Fixed" />
          <VisualState x:Name="Unfixed">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.Column)" Storyboard.TargetName="vertScroll">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <sys:Int32>0</sys:Int32>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.ColumnSpan)" Storyboard.TargetName="vertScroll">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <sys:Int32>3</sys:Int32>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="vertScroll">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=FieldValueOuterBorderBrush}}" />
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.RowSpan)" Storyboard.TargetName="rowValues">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <sys:Int32>1</sys:Int32>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <!--BEGIN WPF-->
          <VisualState x:Name="FixedTouch">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility" Storyboard.TargetName="PART_HorizontalScrollCorner">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.ColumnSpan)" Storyboard.TargetName="PART_ScrollContentPresenter">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <sys:Int32>2</sys:Int32>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.RowSpan)" Storyboard.TargetName="scrollContainer">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <sys:Int32>2</sys:Int32>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderThickness" Storyboard.TargetName="vertScroll">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Thickness>0</Thickness>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="UnfixedTouch">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.Column)" Storyboard.TargetName="vertScroll">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <sys:Int32>0</sys:Int32>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.ColumnSpan)" Storyboard.TargetName="vertScroll">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <sys:Int32>3</sys:Int32>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderBrush" Storyboard.TargetName="vertScroll">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=FieldValueOuterBorderBrush}}" />
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility" Storyboard.TargetName="PART_HorizontalScrollCorner">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.ColumnSpan)" Storyboard.TargetName="PART_ScrollContentPresenter">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <sys:Int32>2</sys:Int32>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="(Grid.RowSpan)" Storyboard.TargetName="scrollContainer">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <sys:Int32>2</sys:Int32>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="BorderThickness" Storyboard.TargetName="vertScroll">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Thickness>0</Thickness>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <!--END WPF-->
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <Grid x:Name="mainGrid">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="Auto" />
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto" />
          <RowDefinition Height="Auto" />
          <RowDefinition Height="Auto" />
          <RowDefinition Height="*" />
          <RowDefinition Height="Auto" />
          <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <ContentControl Grid.Column="0" Grid.Row="3" Margin="0,-1,0,0" Grid.RowSpan="2" Panel.ZIndex="2" Grid.ColumnSpan="3" Template="{DynamicResource {dxpgi:PivotGridThemeKey ResourceKey=CellsContentTemplate}}">
          <Grid>
            <ContentControl Panel.ZIndex="2" Grid.Column="1" Name="scrollContainer" Template="{DynamicResource {dxpgi:PivotGridThemeKey ResourceKey=CellsTemplate}}">
              <Border Name="DragBorder" dx:DragManager.DropTargetFactory="{dxpgi:PivotGridDropTargetFactory}" CornerRadius="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=RightDownCornerRadius}}" Background="{TemplateBinding CellBackground}" BorderBrush="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=FieldValueBorderBrush}}" BorderThickness="1,1,0,0">
                <Border ClipToBounds="True">
                  <Grid Margin="0,-1,0,0">
                    <Grid.ColumnDefinitions>
                      <ColumnDefinition Width="*" />
                      <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <ScrollContentPresenter Name="PART_ScrollContentPresenter" CanContentScroll="True">
                      <ScrollContentPresenter.Content>
                        <dxpgi:ScrollableCellsAreaPresenter x:Name="PART_Cells" ItemTemplate="{DynamicResource {dxpgi:ScrollableAreaThemeKey ResourceKey=DataAreaItemTemplate}}" dxpgi:PivotGridScroller.PivotGrid="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid), RelativeSource={RelativeSource TemplatedParent}}">
                          <dxpgi:PivotGridScroller.ScrollPart>
                            <dxpgi:ScrollerCellsInitializer />
                          </dxpgi:PivotGridScroller.ScrollPart>
                        </dxpgi:ScrollableCellsAreaPresenter>
                      </ScrollContentPresenter.Content>
                    </ScrollContentPresenter>
                    <ScrollBar Grid.Column="1" Orientation="Vertical" Panel.ZIndex="2" Value="{TemplateBinding VerticalOffset}" Maximum="{TemplateBinding ScrollableHeight}" ViewportSize="{TemplateBinding ViewportHeight}" Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}" Name="PART_VerticalScrollBar" />
                  </Grid>
                </Border>
              </Border>
            </ContentControl>
            <dxpgi:SimpleWidthDecreaser x:Name="valuesMaxSizeCalculator" Width="0" Height="0" Element="{Binding ElementName=PART_VerticalScrollBar}" MainElement="{Binding RelativeSource={RelativeSource TemplatedParent}}" />
            <dx:XPFContentControl x:Name="rowValues" Grid.Column="0" Grid.Row="0" Grid.RowSpan="2" HorizontalAlignment="Left" Margin="0,0,0,-1" Background="{TemplateBinding ValueBackground}" MaxWidth="{Binding MainElementWidth, ElementName=valuesMaxSizeCalculator}" Template="{DynamicResource {dxpgi:PivotGridThemeKey ResourceKey=RowValuesContentTemplate}}">
              <dx:SimplePanel>
                <dxpgi:FieldValuesPresenter x:Name="PART_RowValues" IsColumn="False" IsChild="True" IsManipulationEnabled="true" dxpgi:PivotGridScroller.PivotGrid="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid), RelativeSource={RelativeSource TemplatedParent}}" ItemTemplate="{DynamicResource {dxpgi:ScrollableAreaThemeKey ResourceKey=RowAreaItemTemplate}}">
                  <dxpgi:PivotGridScroller.ScrollPart>
                    <dxpgi:ScrollerRowValuesInitializer />
                  </dxpgi:PivotGridScroller.ScrollPart>
                </dxpgi:FieldValuesPresenter>
                <dx:BestFitDecorator x:Name="PART_RowValuesBestFitControlDecorator" Width="0" Height="0" dxpgi:PivotGridScroller.PivotGrid="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid), RelativeSource={RelativeSource TemplatedParent}}">
                  <dxpgi:PivotGridScroller.ScrollPart>
                    <dxpgi:ScrollerRowDecoratorInitializer />
                  </dxpgi:PivotGridScroller.ScrollPart>
                </dx:BestFitDecorator>
              </dx:SimplePanel>
            </dx:XPFContentControl>
            <dx:BestFitDecorator x:Name="PART_CellsBestFitControlDecorator" Width="0" Height="0" dxpgi:PivotGridScroller.PivotGrid="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid), RelativeSource={RelativeSource TemplatedParent}}">
              <dxpgi:PivotGridScroller.ScrollPart>
                <dxpgi:ScrollerCellsDecoratorInitializer />
              </dxpgi:PivotGridScroller.ScrollPart>
            </dx:BestFitDecorator>
            <Border Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="2" x:Name="vertScroll" Panel.ZIndex="20" BorderThickness="1,0,0,0" Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}" BorderBrush="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=FieldValueBorderBrush}}">
              <Grid>
                <Grid.ColumnDefinitions>
                  <ColumnDefinition Width="*" />
                  <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <ScrollBar Grid.Row="1" Orientation="Horizontal" Value="{TemplateBinding HorizontalOffset}" Maximum="{TemplateBinding ScrollableWidth}" ViewportSize="{TemplateBinding ViewportWidth}" Name="PART_HorizontalScrollBar" />
                <Border Grid.Column="1" Width="{Binding Path=Height, ElementName=PART_HorizontalScrollBar}" MinWidth="{Binding Path=MinHeight, ElementName=PART_HorizontalScrollBar}" Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}" x:Name="PART_HorizontalScrollCorner" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Height="Auto" CornerRadius="0,0,2,0" Background="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=ScrollingCornerGradient}}" />
              </Grid>
            </Border>
            <Grid.RowDefinitions>
              <RowDefinition Height="*" />
              <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
              <ColumnDefinition Width="Auto" MaxWidth="{Binding DesiredWidth, ElementName=valuesMaxSizeCalculator}" />
              <ColumnDefinition Width="*" />
              <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
          </Grid>
        </ContentControl>
        <StackPanel Orientation="Vertical" VerticalAlignment="Bottom" Background="#00000000" Grid.Column="1" Grid.ColumnSpan="2" Grid.Row="1" Grid.RowSpan="2">
          <dxpgi:FieldHeaders x:Name="PART_ColumnHeaders" dxb:BarManager.DXContextMenu="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid).GridMenu, RelativeSource={RelativeSource TemplatedParent}}" dxpg:PivotGridPopupMenu.GridMenuType="HeadersArea" Area="ColumnArea" PivotGrid="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid), RelativeSource={RelativeSource TemplatedParent}}" ContentTemplate="{DynamicResource {dxpgi:FieldHeadersThemeKey ResourceKey=ColumnAreaContentTemplate}}" Style="{DynamicResource {dxpgi:FieldHeadersThemeKey ResourceKey=ColumnAreaStyle}}" />
          <ContentControl Template="{DynamicResource {dxpgi:PivotGridThemeKey ResourceKey=ColumnValuesContentTemplate}}" Background="{TemplateBinding ValueBackground}">
            <dx:SimplePanel>
              <dxpgi:FieldValuesPresenter x:Name="PART_ColumnValues" IsColumn="True" IsChild="True" IsManipulationEnabled="true" dxpgi:PivotGridScroller.PivotGrid="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid), RelativeSource={RelativeSource TemplatedParent}}" ItemTemplate="{DynamicResource {dxpgi:ScrollableAreaThemeKey ResourceKey=ColumnAreaItemTemplate}}">
                <dxpgi:PivotGridScroller.ScrollPart>
                  <dxpgi:ScrollerColumnValuesInitializer />
                </dxpgi:PivotGridScroller.ScrollPart>
              </dxpgi:FieldValuesPresenter>
              <dx:BestFitDecorator x:Name="PART_ColumnValuesBestFitControlDecorator" Width="0" Height="0" dxpgi:PivotGridScroller.PivotGrid="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid), RelativeSource={RelativeSource TemplatedParent}}">
                <dxpgi:PivotGridScroller.ScrollPart>
                  <dxpgi:ScrollerColumnDecoratorInitializer />
                </dxpgi:PivotGridScroller.ScrollPart>
              </dx:BestFitDecorator>
            </dx:SimplePanel>
          </ContentControl>
        </StackPanel>
        <dxpgi:FieldHeaders x:Name="PART_FilterHeaders" Grid.Column="0" Grid.Row="0" Grid.ColumnSpan="3" Area="FilterArea" MeasureMode="MultiLine" ContentTemplate="{DynamicResource {dxpgi:FieldHeadersThemeKey ResourceKey=FilterAreaContentTemplate}}" Style="{DynamicResource {dxpgi:FieldHeadersThemeKey ResourceKey=FilterAreaStyle}}" PivotGrid="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid), RelativeSource={RelativeSource TemplatedParent}}" />
        <Border Background="Transparent" Grid.Column="0" Grid.Row="1" Grid.RowSpan="2" HorizontalAlignment="Stretch" Width="{Binding ElementName=rowValues, Path=ActualWidth}" dxpg:PivotGridPopupMenu.GridMenuType="HeadersArea" dxb:BarManager.DXContextMenu="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid).GridMenu, RelativeSource={RelativeSource TemplatedParent}}" />
        <dxpgi:DataAreaPopupEdit x:Name="PART_DataAreaPopup" HorizontalAlignment="Stretch" dxpg:PivotGridControl.PivotGrid="{Binding}" Grid.Column="0" Grid.Row="1" MaxWidth="{Binding ElementName=rowValues, Path=ActualWidth}" DataContext="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid), RelativeSource={RelativeSource TemplatedParent}}" dx:DragManager.DropTargetFactory="{dxpgi:PivotGridDropTargetFactory}" PopupHeight="{Binding ActualHeight, RelativeSource={RelativeSource Self}}">
          <dxpgi:DataAreaPopupEdit.Template>
            <ControlTemplate>
              <dxpgi:FieldHeaders x:Name="PART_DataHeaders" dx:DragManager.DropTargetFactory="{x:Null}" Area="DataArea" PivotGrid="{Binding}" LeftOffset="{Binding RowsLeft, ElementName=PART_Cells}" LeftPixelsOffset="{Binding RowsLeftOffset, ElementName=PART_Cells}" MeasureMode="Cut" ContentTemplate="{DynamicResource {dxpgi:FieldHeadersThemeKey ResourceKey=DataAreaContentTemplate}}" Style="{DynamicResource {dxpgi:FieldHeadersThemeKey ResourceKey=DataAreaStyle}}" />
              <ControlTemplate.Triggers>
                <DataTrigger Binding="{Binding DataHeadersDisplayMode}" Value="Standard">
                  <Setter TargetName="PART_DataHeaders" Property="MeasureMode" Value="Default" />
                </DataTrigger>
              </ControlTemplate.Triggers>
            </ControlTemplate>
          </dxpgi:DataAreaPopupEdit.Template>
          <dxpgi:DataAreaPopupEdit.PopupContentTemplate>
            <ControlTemplate>
              <dxpgi:FieldHeaders x:Name="PART_DataHeaders" EnableDragDrop="True" EnableHeaderMenu="True" Area="DataArea" MeasureMode="Default" Padding="{DynamicResource {dxpgi:FieldHeadersThemeKey ResourceKey=DataAreaPopupPadding}}" ContentTemplate="{DynamicResource {dxpgi:FieldHeadersThemeKey ResourceKey=DataAreaContentTemplate}}" Style="{DynamicResource {dxpgi:FieldHeadersThemeKey ResourceKey=DataAreaStyle}}" PivotGrid="{Binding}" />
            </ControlTemplate>
          </dxpgi:DataAreaPopupEdit.PopupContentTemplate>
        </dxpgi:DataAreaPopupEdit>
        <dxpgi:FieldHeaders x:Name="PART_RowHeaders" Grid.Column="0" Grid.Row="2" Area="RowArea" PivotGrid="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid), RelativeSource={RelativeSource TemplatedParent}}" LeftOffset="{Binding RowsLeft, ElementName=PART_Cells}" LeftPixelsOffset="{Binding LeftOffset, ElementName=PART_RowValues}" MeasureMode="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid).RowTotalsLocation, Converter={StaticResource rowTreeToFieldHeadersMeasureModeConverter}, RelativeSource={RelativeSource TemplatedParent}}" HorizontalAlignment="Stretch" MaxWidth="{Binding ElementName=rowValues, Path=ActualWidth}" ContentTemplate="{DynamicResource {dxpgi:FieldHeadersThemeKey ResourceKey=RowAreaContentTemplate}}" Style="{DynamicResource {dxpgi:FieldHeadersThemeKey ResourceKey=RowAreaStyle}}" />
        <dxfui_local_native:FilterPanelControlAdapter x:Name="PART_FilterPanel" Grid.Column="0" Grid.Row="5" Grid.ColumnSpan="2" Context="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid).FilteringContext, RelativeSource={RelativeSource TemplatedParent}}" FilteringPanelStyle="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid).FilteringPanelStyle, RelativeSource={RelativeSource TemplatedParent}}" UseLegacyFilterPanel="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid).UseLegacyFilterPanel, RelativeSource={RelativeSource TemplatedParent}}">
          <dxfui_local_native:FilterPanelControlAdapter.LegacyFilterPanelTemplate>
            <DataTemplate>
              <dxpg:FilterPanelControl Foreground="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=FilterPanelForeground}}" dxpg:PivotGridControl.PivotGrid="{Binding Path=(dxfui_local_native:FilterPanelControlAdapter.Adapter).TemplatedParent.(dxpgi:PivotGridScroller.PivotGrid), RelativeSource={RelativeSource Self}}" IsFilterEnabled="{Binding Path=(dxpg:PivotGridControl.PivotGrid).IsPrefilterEnabled, Mode=TwoWay, RelativeSource={RelativeSource Self}}" AllowFilterEditor="{Binding Path=(dxpg:PivotGridControl.PivotGrid).AllowPrefilter, Mode=OneWay, RelativeSource={RelativeSource Self}}" ActiveFilterInfo="{Binding Path=(dxpg:PivotGridControl.PivotGrid).ActiveFilterInfo, Mode=OneWay, RelativeSource={RelativeSource Self}}" MRUFilters="{Binding Path=(dxpg:PivotGridControl.PivotGrid).MRUFilters, Mode=OneWay, RelativeSource={RelativeSource Self}}" AllowMRUFilterList="{Binding Path=(dxpg:PivotGridControl.PivotGrid).AllowMRUFilterList, Mode=OneWay, RelativeSource={RelativeSource Self}}" IsCanEnableFilter="{Binding Path=(dxpg:PivotGridControl.PivotGrid).CanEnablePrefilter, RelativeSource={RelativeSource Self}}" ClearFilterCommand="{x:Static dxpg:PivotGridCommands.ResetPrefilter}" ShowFilterEditorCommand="{x:Static dxpg:PivotGridCommands.ShowPrefilter}" />
            </DataTemplate>
          </dxfui_local_native:FilterPanelControlAdapter.LegacyFilterPanelTemplate>
        </dxfui_local_native:FilterPanelControlAdapter>
      </Grid>
      <ContentControl Template="{TemplateBinding ResizingIndicatorTemplate}" VerticalAlignment="Top" HorizontalAlignment="Left" Visibility="Collapsed" dxpgi:PivotGridScroller.PivotGrid="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid), RelativeSource={RelativeSource TemplatedParent}}">
        <dxpgi:PivotGridScroller.ScrollPart>
          <dxpgi:ScrollerResizerInitializer />
        </dxpgi:PivotGridScroller.ScrollPart>
      </ContentControl>
      <ContentControl Template="{TemplateBinding FocusedCellBorderTemplate}" VerticalAlignment="Top" HorizontalAlignment="Left" Visibility="Collapsed" dxpgi:PivotGridScroller.PivotGrid="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid), RelativeSource={RelativeSource TemplatedParent}}">
        <dxpgi:PivotGridScroller.ScrollPart>
          <dxpgi:ScrollerFocusAdornerInitializer />
        </dxpgi:PivotGridScroller.ScrollPart>
      </ContentControl>
    </dx:SimplePanel>
    <ControlTemplate.Triggers>
      <DataTrigger Binding="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid).ShowColumnHeaders, RelativeSource={RelativeSource Self}}" Value="False">
        <Setter TargetName="PART_ColumnHeaders" Property="Visibility" Value="Collapsed" />
      </DataTrigger>
      <DataTrigger Binding="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid).ShowFilterHeaders, RelativeSource={RelativeSource Self}}" Value="False">
        <Setter TargetName="PART_FilterHeaders" Property="Visibility" Value="Collapsed" />
      </DataTrigger>
      <DataTrigger Binding="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid).ShowRowHeaders, RelativeSource={RelativeSource Self}}" Value="False">
        <Setter TargetName="PART_RowHeaders" Property="Visibility" Value="Collapsed" />
      </DataTrigger>
      <DataTrigger Binding="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid).ShowPrefilterPanel, RelativeSource={RelativeSource Self}}" Value="False">
        <Setter TargetName="PART_FilterPanel" Property="Visibility" Value="Collapsed" />
      </DataTrigger>
      <DataTrigger Binding="{Binding Path=(dxpgi:PivotGridScroller.PivotGrid).ShowDataHeaders, RelativeSource={RelativeSource Self}}" Value="False">
        <Setter TargetName="PART_DataAreaPopup" Property="Visibility" Value="Collapsed" />
      </DataTrigger>
    </ControlTemplate.Triggers>
  </ControlTemplate>
  <ControlTemplate x:Key="{dxpgi:PivotGridThemeKey ResourceKey=ThemeLoaderTemplate}" TargetType="{x:Type dxpg:PivotGridControl}">
    <AdornerDecorator>
      <dxpgi:DXPivotGridThemesLoader ShowIndicator="{TemplateBinding IsMainWaitIndicatorVisible}" ShowErrorPanel="{Binding Path=IsErrorPanelVisible, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}" ErrorPanelText="{TemplateBinding ErrorPanelText}" ErrorPanelStyle="{TemplateBinding ErrorPanelStyle}" ShowBorder="{TemplateBinding ShowBorder}" x:Name="PART_ThemesLoader" dxpg:PivotGridControl.ShowBorder="{TemplateBinding ShowBorder}" Background="{TemplateBinding Background}" Style="{DynamicResource {dxpgi:PivotGridThemeKey ResourceKey=BorderTemplate}}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
        <dxpgi:PivotGridScroller PanningMode="Both" HorizontalScrollBarVisibility="Auto" Focusable="False" x:Name="PART_Scroller" CellBackground="{TemplateBinding CellBackground}" ValueBackground="{TemplateBinding ValueBackground}" ResizingIndicatorTemplate="{TemplateBinding ResizingIndicatorTemplate}" FocusedCellBorderTemplate="{TemplateBinding FocusedCellBorderTemplate}" ScrollBarMode="{Binding Path=(dx:ScrollBarExtensions.ScrollBarMode), RelativeSource={RelativeSource TemplatedParent}}" dxpgi:PivotGridScroller.PivotGrid="{Binding RelativeSource={RelativeSource TemplatedParent}}" VerticalScrollBarVisibility="Auto" Template="{TemplateBinding ScrollViewerTemplate}" />
      </dxpgi:DXPivotGridThemesLoader>
    </AdornerDecorator>
  </ControlTemplate>
  <ControlTemplate x:Key="{dxpgi:PivotGridThemeKey ResourceKey=ResizingIndicatorTemplate}">
    <Rectangle Fill="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=ResizingIndicatorBrush}}" />
  </ControlTemplate>
  <Style x:Key="{dxdst:DefaultStyleThemeKey FullName=DevExpress.Xpf.PivotGrid.PivotGridControl}" TargetType="{x:Type dxpg:PivotGridControl}">
    <Setter Property="FieldHeaderDragIndicatorTemplate" Value="{DynamicResource {dxpgi:FieldHeaderThemeKey ResourceKey=DragIndicatorTemplate}}" />
    <Setter Property="FieldHeaderTemplate" Value="{DynamicResource {dxpgi:FieldHeaderThemeKey ResourceKey=ContentTemplate}}" />
    <Setter Property="FieldCellKpiTemplate" Value="{DynamicResource {dxpgi:ScrollableAreaThemeKey ResourceKey=FieldCellKpiTemplate}}" />
    <Setter Property="FieldHeaderListTemplate" Value="{DynamicResource {dxpgi:FieldHeaderThemeKey ResourceKey=ListContentTemplate}}" />
    <Setter Property="FieldCellTemplate" Value="{DynamicResource {dxpgi:ScrollableAreaThemeKey ResourceKey=DataAreaItemContentTemplate}}" />
    <Setter Property="FieldValueTemplate" Value="{DynamicResource {dxpgi:ScrollableAreaThemeKey ResourceKey=FieldAreaItemContentTemplate}}" />
    <Setter Property="FieldHeaderContentStyle" Value="{DynamicResource {dxpgi:FieldHeaderThemeKey ResourceKey=ContentStyle}}" />
    <Setter Property="FieldListTemplate" Value="{DynamicResource {dxpgi:PivotGridThemeKey ResourceKey=FieldListTemplate}}" />
    <Setter Property="ExcelFieldListTemplate" Value="{DynamicResource {dxpgi:PivotGridThemeKey ResourceKey=ExcelFieldListTemplate}}" />
    <Setter Property="FocusedCellBorderTemplate" Value="{DynamicResource {dxpgi:ScrollableAreaThemeKey ResourceKey=FocusedDataAreaItemTemplate}}" />
    <Setter Property="ResizingIndicatorTemplate" Value="{DynamicResource {dxpgi:PivotGridThemeKey ResourceKey=ResizingIndicatorTemplate}}" />
    <Setter Property="ScrollViewerTemplate" Value="{DynamicResource {dxpgi:PivotGridThemeKey ResourceKey=ScrollerTemplate}}" />
    <Setter Property="PrintFieldHeaderTemplate" Value="{DynamicResource {dxpgi:PrintingThemeKey ResourceKey=FieldHeaderTemplate}}" />
    <Setter Property="PrintFieldValueTemplate" Value="{DynamicResource {dxpgi:PrintingThemeKey ResourceKey=FieldValueTemplate}}" />
    <Setter Property="PrintFieldCellTemplate" Value="{DynamicResource {dxpgi:PrintingThemeKey ResourceKey=FieldCellTemplate}}" />
    <Setter Property="PrintFieldCellKpiTemplate" Value="{DynamicResource {dxpgi:PrintingThemeKey ResourceKey=FieldCellKpiTemplate}}" />
    <Setter Property="FilteringPanelStyle" Value="{DynamicResource {dxfuit:FilteringPanelThemeKey ResourceKey=ControlStyle}}" />
    <Setter Property="PrintCellTotalBackground" Value="#EBF5FA" />
    <Setter Property="PrintCellBackground" Value="#FFFFFF" />
    <Setter Property="PrintCellTotalForeground" Value="#000000" />
    <Setter Property="PrintCellForeground" Value="#000000" />
    <Setter Property="PrintValueTotalBackground" Value="#F0F0F0" />
    <Setter Property="PrintValueBackground" Value="#F0F0F0" />
    <Setter Property="PrintValueTotalForeground" Value="#000000" />
    <Setter Property="PrintValueForeground" Value="#000000" />
    <Setter Property="FieldWidth" Value="{Binding Path=FontSize, RelativeSource={RelativeSource Self}, Converter={dxpgi:FontSizeToFieldWidthConverter}}" />
    <Setter Property="FieldHeight">
      <Setter.Value>
        <MultiBinding Converter="{StaticResource fontSizeToFieldHeightConverter}">
          <MultiBinding.ConverterParameter>largeFontSize</MultiBinding.ConverterParameter>
          <Binding Mode="OneWay" Path="FontSize" RelativeSource="{RelativeSource Self}" />
          <Binding Mode="OneWay" UpdateSourceTrigger="PropertyChanged" Path="(dx:ThemeManager.IsTouchEnabled)" RelativeSource="{RelativeSource Self}" />
          <Binding Mode="OneTime" RelativeSource="{RelativeSource Self}" />
          <Binding Mode="OneTime" Source="{dxet:InplaceBaseEditThemeKey ResourceKey=TextEditPadding}" />
        </MultiBinding>
      </Setter.Value>
    </Setter>
    <Setter Property="RowTreeOffset" Value="{Binding Path=FontSize, RelativeSource={RelativeSource Self}, Converter={dxpgi:FontSizeToRowTreeOffsetConverter}}" />
    <!-- TODO -->
    <Setter Property="CellBackground" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=CellValueBrush}}" />
    <Setter Property="CellTotalBackground" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=CellTotalBrush}}" />
    <Setter Property="CellTotalSelectedBackground" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=CellTotalSelectedBrush}}" />
    <Setter Property="CellSelectedBackground" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=CellSelectedBrush}}" />
    <Setter Property="ValueBackground" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=FieldValueBackground}}" />
    <Setter Property="ValueTotalBackground" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=FieldTotalBrush}}" />
    <Setter Property="ValueTotalSelectedBackground" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=ValueTotalSelectedBrush}}" />
    <Setter Property="ValueSelectedBackground" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=FieldValueSelectedBrush}}" />
    <Setter Property="CellForeground" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=CellForegroundBrush}}" />
    <Setter Property="CellTotalForeground" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=CellTotalForegroundBrush}}" />
    <Setter Property="CellTotalSelectedForeground" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=CellTotalSelectedForegroundBrush}}" />
    <Setter Property="CellSelectedForeground" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=CellSelectedForegroundBrush}}" />
    <Setter Property="ValueForeground" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=ValueForegroundBrush}}" />
    <Setter Property="ValueTotalForeground" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=ValueTotalForegroundBrush}}" />
    <Setter Property="ValueTotalSelectedForeground" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=ValueSelectedForegroundBrush}}" />
    <Setter Property="ValueSelectedForeground" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=ValueSelectedForegroundBrush}}" />
    <Setter Property="Background" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=PivotBackground}}" />
    <!-- END TODO -->
    <Setter Property="FieldHeaderTreeViewTemplate" Value="{DynamicResource {dxpgi:FieldHeaderThemeKey ResourceKey=FieldHeaderTreeViewTemplate}}" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
    <Setter Property="Focusable" Value="True" />
    <Setter Property="Template" Value="{DynamicResource {dxpgi:PivotGridThemeKey ResourceKey=ThemeLoaderTemplate}}" />
    <Setter Property="dx:DragManager.DropTargetFactory" Value="{dxpgi:PivotGridDropTargetFactory}" />
    <Setter Property="FocusVisualStyle" Value="{x:Null}" />
    <Setter Property="PredefinedFormats" Value="{DynamicResource {dxdst:ConditionalFormattingThemeKey ResourceKey=PredefinedFormats}}" />
    <Setter Property="PredefinedColorScaleFormats" Value="{DynamicResource {dxdst:ConditionalFormattingThemeKey ResourceKey=PredefinedColorScaleFormats}}" />
    <Setter Property="PredefinedDataBarFormats" Value="{DynamicResource {dxdst:ConditionalFormattingThemeKey ResourceKey=PredefinedDataBarFormats}}" />
    <Setter Property="PredefinedIconSetFormats" Value="{DynamicResource {dxdst:ConditionalFormattingThemeKey ResourceKey=PredefinedIconSetFormats}}" />
    <Setter Property="FormatConditionDialogServiceTemplate" Value="{DynamicResource {dxdst:ConditionalFormattingThemeKey ResourceKey=ApplyFormatConditionDialogTemplate}}" />
    <Setter Property="ConditionalFormattingManagerServiceTemplate" Value="{DynamicResource {dxdst:ConditionalFormattingThemeKey ResourceKey=ConditionalFormattingManagerTemplate}}" />
    <Setter Property="ErrorPanelStyle" Value="{DynamicResource {dxpgi:PivotGridThemeKey ResourceKey=ErrorPanelStyle}}" />
    <Setter Property="FilterEditorTemplate" Value="{StaticResource FilterEditorTemplate}" />
    <Setter Property="FilterEditorDialogServiceTemplate" Value="{StaticResource FilterEditorDialogServiceTemplate}" />
    <Setter Property="BorderBrush" Value="{DynamicResource {dxpgi:AppearanceThemeKey ResourceKey=PivotBorderBrush}}" />
    <Setter Property="BorderThickness" Value="1" />
  </Style>
</ResourceDictionary>