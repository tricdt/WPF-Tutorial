<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
                    xmlns:dxbt="http://schemas.devexpress.com/winfx/2008/xaml/bars/themekeys"
                    xmlns:dxc="http://schemas.devexpress.com/winfx/2008/xaml/core"
                    xmlns:dxcn="http://schemas.devexpress.com/winfx/2008/xaml/core/internal"
                    xmlns:dxdst="http://schemas.devexpress.com/winfx/2008/xaml/core/themekeys"
                    xmlns:dxt="http://schemas.devexpress.com/winfx/2008/xaml/core/internal"
                    xmlns:dxti="http://schemas.devexpress.com/winfx/2008/xaml/core/internal"
                    xmlns:sys="clr-namespace:System;assembly=mscorlib"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <ControlTemplate x:Key="{dxbt:BarStaticItemThemeKey ResourceKey=BorderTemplate}" TargetType="ContentControl">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <Border x:Name="border"
                    Background="#7F6690C6 "
                    BorderBrush="#FFFFFFFF "
                    BorderThickness="0,0,1,0"
                    Grid.Column="1"
                    HorizontalAlignment="Stretch"
                    Margin="0,2,0,2"
                    Opacity="0.5"
                    SnapsToDevicePixels="True"
                    Width="2"/>
            <ContentPresenter Content="{TemplateBinding Content}"
                              Grid.ColumnSpan="1"
                              Height="Auto"
                              Width="Auto"/>
            <dxti:DXTriggerManager.TriggersInfo>
                <dxti:DXTriggerInfoCollection>
                    <dxti:DXTriggerInfo Binding="{Binding Path=Link.Item.ShowBorder, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=dxb:BarItemLinkControl}}"
                                        VisualState="HideBorder"
                                        VisualStateNormal="ShowBorder">
                        <dxti:DXTriggerInfo.TriggerValue>
                            <sys:Boolean>False</sys:Boolean>
                        </dxti:DXTriggerInfo.TriggerValue>
                    </dxti:DXTriggerInfo>
                </dxti:DXTriggerInfoCollection>
            </dxti:DXTriggerManager.TriggersInfo>
            <VisualStateManager.VisualStateGroups>
                <VisualStateGroup x:Name="BorderVisibility">
                    <VisualState x:Name="ShowBorder"></VisualState>
                    <VisualState x:Name="HideBorder">
                        <Storyboard>
                            <DoubleAnimation Duration="0"
                                             Storyboard.TargetName="border"
                                             Storyboard.TargetProperty="Opacity"
                                             To="0.0"/>
                        </Storyboard>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateManager.VisualStateGroups>
        </Grid>
    </ControlTemplate>

</ResourceDictionary>
