<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:charts="http://schemas.devexpress.com/winfx/2008/xaml/charts" xmlns:core="http://schemas.devexpress.com/winfx/2008/xaml/core" xmlns:dxt="http://schemas.devexpress.com/winfx/2008/xaml/sankey/themekeys" xmlns:local="http://schemas.devexpress.com/winfx/2008/xaml/sankey" xmlns:dxdst="http://schemas.devexpress.com/winfx/2008/xaml/core/themekeys">
  <charts:BoolToVisibilityConverter x:Key="boolToVisibilityConverter" />
  <DataTemplate x:Key="defaultTooltipContentTemplate">
    <TextBlock HorizontalAlignment="Center" Foreground="{DynamicResource {dxt:SankeyBrushesThemeKey ResourceKey=ToolTipForeground}}" Text="{Binding ToolTipText}" />
  </DataTemplate>
  <Style x:Key="{dxdst:DefaultStyleThemeKey FullName=DevExpress.Xpf.Charts.Sankey.SankeyDiagramControl}" TargetType="{x:Type local:SankeyDiagramControl}">
    <Setter Property="ClipToBounds" Value="True" />
    <Setter Property="Background" Value="{DynamicResource {dxt:SankeyBrushesThemeKey ResourceKey=BackgroundBrush}}" />
    <Setter Property="BorderBrush" Value="{DynamicResource {dxt:SankeyBrushesThemeKey ResourceKey=BorderBrush}}" />
    <Setter Property="BorderThickness" Value="{DynamicResource {dxt:SankeyDiagramThemeKey ResourceKey=BorderThickness}}" />
    <Setter Property="Padding" Value="{DynamicResource {dxt:SankeyDiagramThemeKey ResourceKey=PaddingValue}}" />
    <Setter Property="FocusManager.IsFocusScope" Value="True" />
    <Setter Property="KeyboardNavigation.DirectionalNavigation" Value="Cycle" />
    <Setter Property="KeyboardNavigation.TabNavigation" Value="Once" />
    <Setter Property="AutomationProperties.Name" Value="SankeyDiagramControl" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type local:SankeyDiagramControl}">
          <Grid>
            <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Padding="{TemplateBinding Padding}">
              <Grid>
                <local:SankeyTitleItemsControl x:Name="PART_TitleItemsContainer" Titles="{TemplateBinding Titles}">
                  <local:SankeyTitleItemsControl.LastChild>
                    <local:SankeyElementsPanel x:Name="PART_ElementsContainer">
                      <local:SankeyLinkItemsControl x:Name="PART_LinkItemsContainer" />
                      <local:SankeyNodeItemsControl x:Name="PART_NodeItemsContainer" />
                      <local:SankeyNodeLabelItemsControl x:Name="PART_NodeLabelItemsContainer" />
                    </local:SankeyElementsPanel>
                  </local:SankeyTitleItemsControl.LastChild>
                </local:SankeyTitleItemsControl>
                <ContentPresenter x:Name="PART_TopContent" HorizontalAlignment="Center" VerticalAlignment="Center" Visibility="Hidden" />
              </Grid>
            </Border>
            <local:SankeyToolTipPanel x:Name="PART_ToolTipPanel" Focusable="False" IsHitTestVisible="False" Visibility="{Binding Path=ActualToolTipEnabled, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource boolToVisibilityConverter}}">
              <Popup x:Name="PART_Popup" AllowsTransparency="True" HorizontalOffset="{Binding Path=ToolTipItem.Position.X, RelativeSource={RelativeSource TemplatedParent}}" IsOpen="{Binding Path=ToolTipItem.Visible, RelativeSource={RelativeSource TemplatedParent}, Mode=OneWay}" Placement="Absolute" VerticalOffset="{Binding Path=ToolTipItem.Position.Y, RelativeSource={RelativeSource TemplatedParent}}">
                <ContentPresenter x:Name="PART_ToolTip" Content="{TemplateBinding ToolTipItem}" ContentTemplate="{TemplateBinding ToolTipTemplate}" Focusable="False" />
              </Popup>
            </local:SankeyToolTipPanel>
          </Grid>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="NodeTemplate">
      <Setter.Value>
        <DataTemplate>
          <Rectangle Fill="{Binding Brush}" OpacityMask="{Binding OpacityMask}" />
        </DataTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="ToolTipTemplate">
      <Setter.Value>
        <DataTemplate>
          <Grid Background="Transparent" UseLayoutRounding="True">
            <Border Background="{DynamicResource {dxt:SankeyBrushesThemeKey ResourceKey=ToolTipBorder}}" CornerRadius="4" />
            <Border Margin="1" Background="{DynamicResource {dxt:SankeyBrushesThemeKey ResourceKey=ToolTipBackground}}" core:BorderExtensions.ClipChild="True" CornerRadius="3">
              <ContentPresenter x:Name="PART_ToolTipContent" Margin="{DynamicResource {dxt:SankeyDiagramThemeKey ResourceKey=ToolTipContentMargin}}" Content="{Binding Info}" ContentTemplate="{Binding Path=DataContext.ContentTemplate, RelativeSource={RelativeSource TemplatedParent}}" />
            </Border>
          </Grid>
        </DataTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="NodeToolTipContentTemplate" Value="{StaticResource defaultTooltipContentTemplate}" />
    <Setter Property="LinkToolTipContentTemplate" Value="{StaticResource defaultTooltipContentTemplate}" />
  </Style>
</ResourceDictionary>